{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\app.js"
    ],
    "names": [],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;qBAOU,W;;gBACE,O;;;;;;mCAAgB,KAAK,KAAL,CAAW,SAAX,EAAsB,OAAtB,E;;;AAAhB,mC;;;AAEJ,iCAAK,MAAL,CAAY,KAAZ,EAAmB,OAAnB;;6DAEO,KAAK,OAAL,E;;;;;;;;;;;;;;;;;qBAGX,S,wBAAY;AACR,YAAI,KAAK,MAAL,EAAJ,EAAmB;AACf,gBAAM,OAAO,KAAK,IAAL,EAAb;AACA,iBAAK,KAAL,CAAW,SAAX,EAAsB,GAAtB,CAA0B,IAA1B;AACH;;AAED,eAAO,KAAK,OAAL,EAAP;AACH,K;;qBAEK,U;;gBACI,I,EAEF,W,EAAa,U,EAGP,K;;;;;;AALJ,gC,GAAO,KAAK,GAAL,E;AAET,uC,WAAa,U;;;AAEjB,gCAAI,KAAK,MAAL,EAAJ,EAAmB;AACT,qCADS,GACD,KAAK,IAAL,EADC;;;AAGf,qCAAK,KAAL,CAAW,SAAX,EAAsB,KAAtB,CAA4B,IAA5B,EAAkC,MAAlC,CAAyC,KAAzC;;;AAGA,qCAAK,MAAL,CAAY,YAAZ,EAA0B,yBAA1B;AACA,qCAAK,QAAL,CAAc,kBAAd;AACH;;;mCAEmB,KAAK,KAAL,CAAW,SAAX,EAAsB,aAAtB,CAAoC,EAAC,cAAc,KAAK,EAApB,EAApC,C;;;AAApB,uC;;AACA,iCAAK,MAAL,CAAY,KAAZ,EAAmB,WAAnB;;;mCAEmB,KAAK,KAAL,CAAW,QAAX,EAAqB,MAArB,E;;;AAAnB,sC;;AACA,iCAAK,MAAL,CAAY,QAAZ,EAAsB,UAAtB;;8DAEO,KAAK,OAAL,E;;;;;;;;;;;;;;;;;qBAGX,S,wBAAY;AACR,YAAM,OAAO,KAAK,GAAL,EAAb;AACA,aAAK,KAAL,CAAW,SAAX,EAAsB,KAAtB,CAA4B,IAA5B,EAAkC,MAAlC;;AAEA,aAAK,QAAL,CAAc,kBAAd;AACH,K;;;;;;;qBAKK,W;;gBACI,I,EAMA,W,EACA,G;;;;;;AAPA,gC,GAAO,KAAK,GAAL,E;;iCAET,MAAM,OAAN,CAAc,IAAd,C;;;;;8DACO,KAAK,IAAL,E;;;AAGL,uC,GAAc,KAAK,KAAL,CAAW,SAAX,C;;mCACF,YAAY,KAAZ,CAAkB,EAAC,IAAI,KAAK,EAAV,EAAlB,EAAiC,IAAjC,E;;;AAAZ,+B;;kCAEF,IAAI,MAAJ,IAAc,C;;;;;;mCACR,YAAY,KAAZ,CAAkB,EAAC,IAAI,KAAK,EAAV,EAAlB,EAAiC,MAAjC,CAAwC,EAAC,QAAQ,CAAT,EAAxC,C;;;;;;;;mCAEA,YAAY,KAAZ,CAAkB,EAAC,IAAI,KAAK,EAAV,EAAlB,EAAiC,MAAjC,CAAwC,EAAC,QAAQ,CAAT,EAAxC,C;;;8DAGH,KAAK,OAAL,CAAa,IAAI,MAAjB,EAAyB,KAAK,MAAL,CAAY,eAAZ,CAAzB,C",
    "file": "..\\..\\..\\src\\admin\\controller\\app.js",
    "sourcesContent": [
        "'use strict';\r\n\r\nimport Base from './base.js';\r\n\r\nexport default class extends Base {\r\n    /**\r\n     * index action\r\n     * @return {Promise} []\r\n     */\r\n    async indexAction() {\r\n        let program = await this.model('program').getList();\r\n\r\n        this.assign('app', program);\r\n\r\n        return this.display();\r\n    }\r\n\r\n    addAction() {\r\n        if (this.isPost()) {\r\n            const data = this.post();\r\n            this.model('program').add(data);\r\n        }\r\n\r\n        return this.display();\r\n    }\r\n\r\n    async editAction() {\r\n        const _get = this.get();\r\n\r\n        let programData, serverData;\r\n\r\n        if (this.isPost()) {\r\n            const _post = this.post();\r\n            // ��������\r\n            this.model('program').where(_get).update(_post);\r\n\r\n            // �ڿͻ��˷��������������ļ�\r\n            this.action('home/proxy', 'remotegeneratecmdsingle');\r\n            this.redirect('/admin/app/index');\r\n        }\r\n\r\n        programData = await this.model('program').getSingleList({'program.id': _get.id});\r\n        this.assign('app', programData);\r\n\r\n        serverData = await this.model('server').select();\r\n        this.assign('server', serverData);\r\n\r\n        return this.display();\r\n    }\r\n\r\n    delAction() {\r\n        const _get = this.get();\r\n        this.model('program').where(_get).delete();\r\n\r\n        this.redirect('/admin/app/index');\r\n    }\r\n\r\n    /*\r\n     *  Ӧ����ʾ״̬\r\n     * */\r\n    async shownAction() {\r\n        const _get = this.get();\r\n\r\n        if (think.isEmpty(_get)) {\r\n            return this.fail()\r\n        }\r\n\r\n        const programData = this.model('program');\r\n        const row = await programData.where({id: _get.id}).find();\r\n\r\n        if (row.status == 1) {\r\n            await programData.where({id: _get.id}).update({status: 0});\r\n        } else {\r\n            await programData.where({id: _get.id}).update({status: 1});\r\n        }\r\n\r\n        return this.success(row.status, this.locale('query_success'));\r\n    }\r\n\r\n\r\n}"
    ]
}